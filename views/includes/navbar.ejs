<!-- Premium Navigation with Fixed Dropdown -->
<nav class="bg-gradient-to-r from-emerald-900 via-emerald-800 to-emerald-900 backdrop-blur-lg border-b border-emerald-700/50 px-4 py-4 text-emerald-50 shadow-2xl sticky top-0 z-50 relative overflow-visible">
  <!-- Animated Background Elements -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-0 left-0 w-32 h-32 bg-emerald-400/10 rounded-full blur-xl animate-pulse"></div>
    <div class="absolute bottom-0 right-0 w-24 h-24 bg-emerald-300/10 rounded-full blur-lg animate-pulse delay-1000"></div>
  </div>
  
  <!-- Animated border gradient -->
  <div class="absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-emerald-400/50 to-transparent animate-pulse"></div>
  
  <div class="max-w-7xl mx-auto flex justify-between items-center flex-wrap gap-2 md:gap-6 relative z-10">
    <!-- Left Links (Main Navigation) -->
    <div class="flex flex-wrap items-center gap-1 md:gap-4 text-base font-medium">
      <a href="/" class="group relative px-3 py-2 rounded-xl flex items-center transition-all duration-300 hover:bg-emerald-700/50 active:bg-emerald-900/50 text-emerald-50 hover:text-white transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
        <i class="fa fa-home mr-2 flex-shrink-0 text-emerald-200 group-hover:text-emerald-100 transition-all duration-300 group-hover:scale-110"></i>
        <span class="font-semibold">Home</span>
        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/20 to-emerald-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-sm"></div>
      </a>

      <a href="/pets/ourPet" class="group relative px-3 py-2 rounded-xl flex items-center transition-all duration-300 hover:bg-emerald-700/50 active:bg-emerald-900/50 text-emerald-50 hover:text-white transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
        <i class="fa fa-paw mr-2 flex-shrink-0 text-emerald-200 group-hover:text-emerald-100 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"></i>
        <span class="font-semibold">Our Pets</span>
        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/20 to-emerald-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-sm"></div>
      </a>

      <!-- FIXED Accessories Dropdown -->
      <div class="relative dropdown group z-50">
        <button class="group/btn relative px-3 py-2 rounded-xl flex items-center gap-1 transition-all duration-300 hover:bg-emerald-700/50 active:bg-emerald-900/50 text-emerald-50 hover:text-white focus:outline-none transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
          <i class="fa fa-shopping-bag mr-2 flex-shrink-0 text-emerald-200 group-hover/btn:text-emerald-100 transition-all duration-300 group-hover/btn:scale-110 group-hover/btn:rotate-12"></i>
          <span class="font-semibold">Accessories</span>
          <svg class="w-4 h-4 mt-0.5 text-emerald-300 transition-all duration-500 group-hover:rotate-180 group-hover/btn:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
          <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/20 to-emerald-600/20 opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300 blur-sm"></div>
        </button>
        
        <!-- FIXED Premium Dropdown Menu -->
        <ul class="absolute top-full left-0 mt-2 w-56 bg-emerald-900/95 backdrop-blur-xl border border-emerald-700/50 rounded-2xl shadow-2xl py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform translate-y-2 group-hover:translate-y-0 scale-95 group-hover:scale-100 z-[60]">
          <li>
            <a href="/foods" class="group/item relative flex items-center px-4 py-3 text-emerald-100 hover:text-white hover:bg-emerald-700/50 transition-all duration-300 rounded-xl mx-2 transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
              <i class="fa fa-cutlery mr-3 flex-shrink-0 text-emerald-200 group-hover/item:text-emerald-100 transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-12"></i>
              <span class="font-medium">Foods</span>
              <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/10 to-emerald-600/10 opacity-0 group-hover/item:opacity-100 transition-opacity duration-300 blur-sm"></div>
            </a>
          </li>
          <li>
            <a href="/toys" class="group/item relative flex items-center px-4 py-3 text-emerald-100 hover:text-white hover:bg-emerald-700/50 transition-all duration-300 rounded-xl mx-2 transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
              <i class="fa fa-gamepad mr-3 flex-shrink-0 text-emerald-200 group-hover/item:text-emerald-100 transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-12"></i>
              <span class="font-medium">Toys</span>
              <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/10 to-emerald-600/10 opacity-0 group-hover/item:opacity-100 transition-opacity duration-300 blur-sm"></div>
            </a>
          </li>
          <li>
            <a href="/utilities" class="group/item relative flex items-center px-4 py-3 text-emerald-100 hover:text-white hover:bg-emerald-700/50 transition-all duration-300 rounded-xl mx-2 transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
              <i class="fa fa-wrench mr-3 flex-shrink-0 text-emerald-200 group-hover/item:text-emerald-100 transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-12"></i>
              <span class="font-medium">Utilities</span>
              <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/10 to-emerald-600/10 opacity-0 group-hover/item:opacity-100 transition-opacity duration-300 blur-sm"></div>
            </a>
          </li>
        </ul>
      </div>

      <a href="/medicines" class="group relative px-3 py-2 rounded-xl flex items-center transition-all duration-300 hover:bg-emerald-700/50 active:bg-emerald-900/50 text-emerald-50 hover:text-white transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
        <i class="fa fa-medkit mr-2 flex-shrink-0 text-emerald-200 group-hover:text-emerald-100 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"></i>
        <span class="font-semibold">Medicines</span>
        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/20 to-emerald-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-sm"></div>
      </a>

      <a href="/about" class="group relative px-3 py-2 rounded-xl flex items-center transition-all duration-300 hover:bg-emerald-700/50 active:bg-emerald-900/50 text-emerald-50 hover:text-white transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
        <i class="fa fa-info-circle mr-2 flex-shrink-0 text-emerald-200 group-hover:text-emerald-100 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"></i>
        <span class="font-semibold">About</span>
        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/20 to-emerald-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-sm"></div>
      </a>

      <a href="/contact" class="group relative px-3 py-2 rounded-xl flex items-center transition-all duration-300 hover:bg-emerald-700/50 active:bg-emerald-900/50 text-emerald-50 hover:text-white transform hover:scale-105 hover:-translate-y-0.5 hover:shadow-lg backdrop-blur-sm">
        <i class="fa fa-envelope mr-2 flex-shrink-0 text-emerald-200 group-hover:text-emerald-100 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"></i>
        <span class="font-semibold">Contact</span>
        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/20 to-emerald-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-sm"></div>
      </a>
    </div>

    <!-- Premium Auth Buttons -->
    <div class="flex items-center gap-2 md:gap-3">
      <% if (!currUser) { %>
        <a href="/user/signup" class="group relative bg-emerald-600 hover:bg-emerald-700 active:bg-emerald-800 text-emerald-50 px-5 py-2.5 rounded-full flex items-center gap-2 transition-all duration-300 shadow-lg font-bold transform hover:scale-110 hover:-translate-y-1 hover:shadow-xl overflow-hidden">
          <span class="absolute inset-0 bg-gradient-to-r from-emerald-500 to-emerald-400 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></span>
          <i class="fa fa-user-plus flex-shrink-0 text-emerald-200 group-hover:text-emerald-100 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 relative z-10"></i>
          <span class="relative z-10">Sign Up</span>
        </a>
        <a href="/user/login" class="group relative bg-emerald-600 hover:bg-emerald-700 active:bg-emerald-800 text-emerald-50 px-5 py-2.5 rounded-full flex items-center gap-2 transition-all duration-300 shadow-lg font-bold transform hover:scale-110 hover:-translate-y-1 hover:shadow-xl overflow-hidden">
          <span class="absolute inset-0 bg-gradient-to-r from-emerald-500 to-emerald-400 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></span>
          <i class="fa fa-sign-in flex-shrink-0 text-emerald-200 group-hover:text-emerald-100 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 relative z-10"></i>
          <span class="relative z-10">Login</span>
        </a>
      <% } else { %>
        <div class="text-emerald-100 text-sm md:text-base mr-2 md:mr-4 whitespace-nowrap px-4 py-2 rounded-full bg-emerald-800/50 backdrop-blur-sm border border-emerald-700/50">
          Welcome, <span class="text-emerald-200 font-extrabold animate-pulse"><%= currUser.username %></span>!
        </div>
        <a href="/logout" class="group relative bg-red-600 hover:bg-red-700 active:bg-red-800 text-emerald-50 px-5 py-2.5 rounded-full flex items-center gap-2 transition-all duration-300 shadow-lg font-bold transform hover:scale-110 hover:-translate-y-1 hover:shadow-xl overflow-hidden">
          <span class="absolute inset-0 bg-gradient-to-r from-red-500 to-red-400 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></span>
          <i class="fa fa-sign-out flex-shrink-0 text-red-100 group-hover:text-white transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 relative z-10"></i>
          <span class="relative z-10">Logout</span>
        </a>
      <% } %>
    </div>
  </div>
</nav>

<!-- Custom CSS for Premium Effects -->
<style>
  /* Enhanced dropdown animation */
  .dropdown-menu {
    animation: dropdown-enter 0.3s ease-out forwards;
  }
  
  @keyframes dropdown-enter {
    from {
      opacity: 0;
      transform: translateY(8px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  /* Glass morphism effect */
  .backdrop-blur-lg {
    backdrop-filter: blur(16px);
  }
  
  .backdrop-blur-xl {
    backdrop-filter: blur(24px);
  }
  
  /* Enhanced shadow effects */
  .shadow-2xl {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(16, 185, 129, 0.05);
  }
  
  /* Smooth icon rotations */
  .group:hover .fa {
    animation: icon-bounce 0.6s ease-in-out;
  }
  
  @keyframes icon-bounce {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(6deg); }
  }
  
  /* Ensure dropdown appears above other elements */
  .dropdown {
    z-index: 50;
  }
  
  .dropdown ul {
    z-index: 60;
  }
</style>
